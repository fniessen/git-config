<!-- <xml version="1.0" encoding="utf-8"> -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Cygwin (vers 1st September 2004), see www.w3.org" />

  <title>Git configuration file</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Org-mode" />
  <meta name="author" content="Fabrice Niessen" />
</head>

<body>
  <div id="content">
    <h1 class="title">Git configuration file</h1>

    <div id="table-of-contents">
      <h2>Table of Contents</h2>

      <div id="text-table-of-contents">
        <ul>
          <li><a href="#sec-1">1. Overview</a></li>

          <li>
            <a href="#sec-2">2. Tasks</a>

            <ul>
              <li><a href="#sec-2-1">2.1. <span class=
              "todo nilTODO">TODO</span> Outsource and include private entries
              in .gitconfig</a></li>

              <li><a href="#sec-2-2">2.2. <span class=
              "todo nilTODO">TODO</span> Mix professional and personal Git
              configurations</a></li>
            </ul>
          </li>

          <li><a href="#sec-3">3. User</a></li>

          <li><a href="#sec-4">4. Core</a></li>

          <li><a href="#sec-5">5. Diff</a></li>

          <li><a href="#sec-6">6. Merge</a></li>

          <li><a href="#sec-7">7. Grep</a></li>

          <li><a href="#sec-8">8. Pull</a></li>

          <li><a href="#sec-9">9. Rebase</a></li>

          <li><a href="#sec-10">10. Push</a></li>

          <li>
            <a href="#sec-11">11. Color</a>

            <ul>
              <li><a href="#sec-11-1">11.1. Branch</a></li>

              <li><a href="#sec-11-2">11.2. Diff</a></li>

              <li><a href="#sec-11-3">11.3. Status</a></li>

              <li><a href="#sec-11-4">11.4. Grep</a></li>
            </ul>
          </li>

          <li>
            <a href="#sec-12">12. Aliases</a>

            <ul>
              <li><a href="#sec-12-1">12.1. Abbreviations</a></li>

              <li><a href="#sec-12-2">12.2. Initialize a Git
              repository</a></li>

              <li><a href="#sec-12-3">12.3. Remove deleted files</a></li>

              <li><a href="#sec-12-4">12.4. Log</a></li>

              <li><a href="#sec-12-5">12.5. Unpulled</a></li>

              <li><a href="#sec-12-6">12.6. Pull all</a></li>

              <li><a href="#sec-12-7">12.7. Unpushed</a></li>

              <li><a href="#sec-12-8">12.8. Amend</a></li>

              <li><a href="#sec-12-9">12.9. Diff</a></li>

              <li>
                <a href="#sec-12-10">12.10. Search</a>

                <ul>
                  <li><a href="#sec-12-10-1">12.10.1. Commit messages</a></li>

                  <li><a href="#sec-12-10-2">12.10.2. Commit contents
                  (Diff)</a></li>

                  <li><a href="#sec-12-10-3">12.10.3. Code base</a></li>
                </ul>
              </li>

              <li><a href="#sec-12-11">12.11. Tags</a></li>

              <li><a href="#sec-12-12">12.12. Merge aliases</a></li>

              <li><a href="#sec-12-13">12.13. Cherrypick style
              recording</a></li>

              <li><a href="#sec-12-14">12.14. Reset Commands</a></li>

              <li><a href="#sec-12-15">12.15. Stash operations</a></li>

              <li><a href="#sec-12-16">12.16. Dangling</a></li>

              <li><a href="#sec-12-17">12.17. Save a repo as a tarball</a></li>
            </ul>
          </li>

          <li><a href="#sec-13">13. References</a></li>
        </ul>
      </div>
    </div>

    <div id="outline-container-sec-1" class="outline-2">
      <h2 id="sec-1"><span class="section-number-2">1</span> Overview</h2>

      <div class="outline-text-2" id="text-1">
        <p>The following configures interesting global settings for Git. These
        are stored in the <code>.gitconfig</code> file located in the user home
        directory.</p>

        <div class="warning">
          <p>Note that tangling this file will override whichever
          <code>~/.gitconfig</code> file you might have. So <b>be extremely
          careful</b>!</p>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-2" class="outline-2">
      <h2 id="sec-2"><span class="section-number-2">2</span> Tasks</h2>

      <div class="outline-text-2" id="text-2"></div>

      <div id="outline-container-sec-2-1" class="outline-3">
        <h3 id="sec-2-1"><span class="section-number-3">2.1</span> <span class=
        "todo TODO">TODO</span> Outsource and include private entries in
        .gitconfig</h3>

        <div class="outline-text-3" id="text-2-1">
          <p>Git (1.7.10+) now supports this syntax in .gitconfig:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
[<span class="org-type">include</span>]
    <span class="org-variable-name">path</span> = /path/to/file
</pre>
          </div>

          <p>So you can split your gitconfig configurations across multiple
          files, e.g. you can have a .gitconfig file for your nonsensitive
          information and a git ignored .githubconfig file containing your
          private github token.</p>

          <p>See <a href=
          "http://travisjeffery.com/b/2012/03/using-gits-include-for-private-information-like-github-tokens/">
          http://travisjeffery.com/b/2012/03/using-gits-include-for-private-information-like-github-tokens/</a></p>
        </div>
      </div>

      <div id="outline-container-sec-2-2" class="outline-3">
        <h3 id="sec-2-2"><span class="section-number-3">2.2</span> <span class=
        "todo TODO">TODO</span> Mix professional and personal Git
        configurations</h3>

        <div class="outline-text-3" id="text-2-2">
          <p><a href=
          "http://monkeypatch.me/blog/mixing-professional-and-personal-git-configurations.html">
          http://monkeypatch.me/blog/mixing-professional-and-personal-git-configurations.html</a></p>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-3" class="outline-2">
      <h2 id="sec-3"><span class="section-number-2">3</span> User</h2>

      <div class="outline-text-2" id="text-3">
        <p>Setting your user name and e-mail address is important because Git
        stores the committer and author of a change in every commit.</p>

        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">user</span>]
        <span class="org-variable-name">name</span> = Fabrice Niessen
        <span class=
"org-variable-name">email</span> = (concat \"fniessen\" at-sign \"pirilampo.org\")
</pre>
        </div>

        <p>You should “override” the above with your personal details.</p>
      </div>
    </div>

    <div id="outline-container-sec-4" class="outline-2">
      <h2 id="sec-4"><span class="section-number-2">4</span> Core</h2>

      <div class="outline-text-2" id="text-4">
        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">core</span>]
        <span class="org-variable-name">editor</span> = emacsclient
        <span class="org-variable-name">pager</span> = less
        <span class=
"org-variable-name">whitespace</span> = fix,-indent-with-non-tab,trailing-space,space-before-tab,cr-at-eol
</pre>
        </div>

        <div class="org-src-container">
          <pre class="src src-conf">
        <span class="org-variable-name">autocrlf</span> = input
        <span class="org-variable-name">safecrlf</span> = true
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-5" class="outline-2">
      <h2 id="sec-5"><span class="section-number-2">5</span> Diff</h2>

      <div class="outline-text-2" id="text-5">
        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">diff</span>]
        <span class="org-variable-name">renames</span> = copies
        <span class="org-variable-name">algorithm</span> = patience
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-6" class="outline-2">
      <h2 id="sec-6"><span class="section-number-2">6</span> Merge</h2>

      <div class="outline-text-2" id="text-6">
        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">merge</span>]
        <span class="org-variable-name">stat</span> = true
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-7" class="outline-2">
      <h2 id="sec-7"><span class="section-number-2">7</span> Grep</h2>

      <div class="outline-text-2" id="text-7">
        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">grep</span>]
        <span class="org-variable-name">fullname</span> = true
        <span class="org-variable-name">linenumber</span> = true
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-8" class="outline-2">
      <h2 id="sec-8"><span class="section-number-2">8</span> Pull</h2>

      <div class="outline-text-2" id="text-8">
        <p>Configure Git to do the <code>--rebase</code> part
        automatically.</p>

        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">pull</span>]
        <span class="org-variable-name">rebase</span> = true
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-9" class="outline-2">
      <h2 id="sec-9"><span class="section-number-2">9</span> Rebase</h2>

      <div class="outline-text-2" id="text-9">
        <p>Also set <code>rebase.stat = true</code>, so the
        <code>diffstat</code> output is still shown when they pull.</p>

        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">rebase</span>]
        <span class="org-variable-name">stat</span> = true
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-10" class="outline-2">
      <h2 id="sec-10"><span class="section-number-2">10</span> Push</h2>

      <div class="outline-text-2" id="text-10">
        <p>Push only the current branch (sane pushing).</p>

        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">push</span>]
        <span class="org-variable-name">default</span> = current
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-11" class="outline-2">
      <h2 id="sec-11"><span class="section-number-2">11</span> Color</h2>

      <div class="outline-text-2" id="text-11">
        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">color</span>]
        <span class="org-variable-name">ui</span> = auto
        <span class="org-variable-name">branch</span> = auto
        <span class="org-variable-name">diff</span> = auto
        <span class="org-variable-name">status</span> = auto
        <span class="org-variable-name">interactive</span> = auto
</pre>
        </div>
      </div>

      <div id="outline-container-sec-11-1" class="outline-3">
        <h3 id="sec-11-1"><span class="section-number-3">11.1</span>
        Branch</h3>

        <div class="outline-text-3" id="text-11-1">
          <div class="org-src-container">
            <pre class="src src-conf">
[color <span class="org-string">"branch"</span>]
        <span class="org-variable-name">current</span> = yellow reverse
        <span class="org-variable-name">local</span> = yellow
        <span class="org-variable-name">remote</span> = green
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-11-2" class="outline-3">
        <h3 id="sec-11-2"><span class="section-number-3">11.2</span> Diff</h3>

        <div class="outline-text-3" id="text-11-2">
          <div class="org-src-container">
            <pre class="src src-conf">
[color <span class="org-string">"diff"</span>]
        <span class="org-variable-name">meta</span> = yellow bold
        <span class="org-variable-name">frag</span> = magenta bold
        <span class="org-variable-name">old</span> = red bold
        <span class="org-variable-name">new</span> = green bold
        <span class="org-variable-name">whitespace</span> = red reverse
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-11-3" class="outline-3">
        <h3 id="sec-11-3"><span class="section-number-3">11.3</span>
        Status</h3>

        <div class="outline-text-3" id="text-11-3">
          <div class="org-src-container">
            <pre class="src src-conf">
[color <span class="org-string">"status"</span>]
        <span class="org-variable-name">added</span> = yellow
        <span class="org-variable-name">changed</span> = green
        <span class="org-variable-name">untracked</span> = bold red
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-11-4" class="outline-3">
        <h3 id="sec-11-4"><span class="section-number-3">11.4</span> Grep</h3>

        <div class="outline-text-3" id="text-11-4">
          <div class="org-src-container">
            <pre class="src src-conf">
[color <span class="org-string">"grep"</span>]
        <span class="org-variable-name">filename</span> = bold yellow reverse
        <span class="org-variable-name">linenumber</span> = magenta bold
        <span class="org-variable-name">match</span> = green reverse bold
        <span class="org-variable-name">separator</span> = red bold
        <span class="org-variable-name">selected</span> = white bold
        <span class="org-variable-name">context</span> = black
        <span class="org-variable-name">function</span> = red
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-12" class="outline-2">
      <h2 id="sec-12"><span class="section-number-2">12</span> Aliases</h2>

      <div class="outline-text-2" id="text-12">
        <p>If you forget your aliases and don’t want to open
        <code>.gitconfig</code> just to check, type <code>git alias</code>:</p>

        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">alias</span>]
</pre>
        </div>

        <p>Print the current list of Git aliases:</p>

        <div class="org-src-container">
          <pre class="src src-conf">
        <span class="org-variable-name">alias</span> = <span class=
"org-string">"!git config -l | grep alias | cut -c 7- | sort"</span>
</pre>
        </div>
      </div>

      <div id="outline-container-sec-12-1" class="outline-3">
        <h3 id="sec-12-1"><span class="section-number-3">12.1</span>
        Abbreviations</h3>

        <div class="outline-text-3" id="text-12-1">
          <p>Basic shortcuts.</p>

          <ul class="org-ul">
            <li>List all branches (both remote-tracking and local), showing
            sha1 and commit subject line for each head, along with the name of
            the upstream branch (if any).</li>
          </ul>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">br</span> = branch -a -vv
</pre>
          </div>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">ci</span> = commit
        <span class="org-variable-name">cl</span> = clone
        <span class="org-variable-name">co</span> = checkout
        <span class="org-variable-name">cp</span> = cherry-pick
        <span class="org-variable-name">ls</span> = ls-files
        <span class="org-variable-name">st</span> = status -s
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-2" class="outline-3">
        <h3 id="sec-12-2"><span class="section-number-3">12.2</span> Initialize
        a Git repository</h3>

        <div class="outline-text-3" id="text-12-2">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">this</span> = !git init &amp;&amp; git add . &amp;&amp; git commit -m \"Initial commit\"
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-3" class="outline-3">
        <h3 id="sec-12-3"><span class="section-number-3">12.3</span> Remove
        deleted files</h3>

        <div class="outline-text-3" id="text-12-3">
          <p>Removing multiple files from a Git repo that have already been
          deleted from disk:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">r</span> = !git ls-files --deleted -z | xargs -0 git rm
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-4" class="outline-3">
        <h3 id="sec-12-4"><span class="section-number-3">12.4</span> Log</h3>

        <div class="outline-text-3" id="text-12-4">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">lg</span> = log --decorate --oneline --graph
        <span class=
"org-variable-name">lgr</span> = log --decorate --pretty=format:<span class=
"org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ad)%Creset'</span> --date=relative --graph
        <span class=
"org-variable-name">lga</span> = log --decorate --pretty=format:<span class=
"org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ad)%Creset'</span> --date=short --graph
</pre>
          </div>

          <div class="note">
            <p>The <code>git log</code> command shows, by default, the “author
            date” (not the “committer date”).</p>
          </div>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">y</span> = diff <span class=
"org-string">"@{yesterday}"</span>
</pre>
          </div>

          <p>Show a “top contributors” list:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">who</span> = shortlog -n -s --
</pre>
          </div>

          <div class="note">
            <p>The <code>--</code> signals the end of options, that the rest of
            the parameters are limiters.</p>
          </div>

          <p>Show files ignored by Git:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">ign</span> = ls-files -o -i --exclude-standard
</pre>
          </div>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">head</span> = !<span class=
"org-string">"git log -n1"</span>
        <span class="org-variable-name">heads</span> = !<span class=
"org-string">"git log --format='%C(yellow)%h%Creset;%C(cyan)%H%Creset;%s %Cgreen&lt;%an&gt;%Creset' | git name-rev --stdin --always --name-only | column -t -s';'"</span>

        # prettier and concise whatchanged
        <span class=
"org-variable-name">what</span> = log --pretty=format:<span class=
"org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ad)%Creset'</span> --date=short --stat

        # prettier whatchanged with full diffs based on text search
        <span class=
"org-variable-name">whatwhen</span> = log --pretty=format:<span class=
"org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ad)%Creset'</span> --date=iso -p -S
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-5" class="outline-3">
        <h3 id="sec-12-5"><span class="section-number-3">12.5</span>
        Unpulled</h3>

        <div class="outline-text-3" id="text-12-5">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">in</span> = pull --dry-run
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-6" class="outline-3">
        <h3 id="sec-12-6"><span class="section-number-3">12.6</span> Pull
        all</h3>

        <div class="outline-text-3" id="text-12-6">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">pull-all</span> = !<span class=
"org-string">"old=$(git rev-parse --abbrev-ref HEAD) ; for b in $(git for-each-ref refs/heads --format='%(refname)') ; do git checkout ${b#refs/heads/} ; git pull --ff-only ; done; git checkout ${old}"</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-7" class="outline-3">
        <h3 id="sec-12-7"><span class="section-number-3">12.7</span>
        Unpushed</h3>

        <div class="outline-text-3" id="text-12-7">
          <p>What is left to push to <code>origin</code>:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">out</span> = log --branches --not --remotes
        <span class=
"org-variable-name">unpushed</span> = log --branches --not --remotes --color --graph --pretty=format:<span class="org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ar)%Creset'</span> --abbrev-commit
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-8" class="outline-3">
        <h3 id="sec-12-8"><span class="section-number-3">12.8</span> Amend</h3>

        <div class="outline-text-3" id="text-12-8">
          <p>Amend with the same message (without your editor prompting you for
          the message you’ve already entered).</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">amend</span> = <span class=
"org-string">"!git log -n 1 --pretty=tformat:%s%n%n%b | git commit -F - --amend"</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-9" class="outline-3">
        <h3 id="sec-12-9"><span class="section-number-3">12.9</span> Diff</h3>

        <div class="outline-text-3" id="text-12-9">
          <p>Differences between the <b>unstaged</b> files and the <b>last
          commit</b>:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">df</span> = diff
</pre>
          </div>

          <p>Just before committing the staged changes, check what your commit
          changes (differences between the <b>staged</b> files and the <b>last
          commit</b>):</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">dc</span> = diff --cached
</pre>
          </div>

          <p>Getting the diff of a branch since it forked from another branch,
          or since the last merge.</p>

          <p>To see the changes in a branch since it was forked from another
          branch, or since the last merge with the origin branch, you can add
          this alias:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">forkdiff</span> = !bash -c <span class=
"org-string">'git diff $(git merge-base "$1" "$2") "$2" "${@: 3}" '</span> -
</pre>
          </div>

          <p>It uses <code>git merge-base</code> to determine the fork-point
          (the commit that is common to both the branches) and does a <code>git
          diff</code> between that commit and the second branch.</p>

          <p>Usage</p>
          <pre class="example">
git forkdiff &lt;forked from branch&gt; &lt;forked branch&gt; [git-diff-options]
</pre>

          <p>Example</p>
          <pre class="example">
git forkdiff origin/master my_forked_branch --stat
</pre>
        </div>
      </div>

      <div id="outline-container-sec-12-10" class="outline-3">
        <h3 id="sec-12-10"><span class="section-number-3">12.10</span>
        Search</h3>

        <div class="outline-text-3" id="text-12-10">
          <div class="org-src-container">
            <pre class="src src-shell">
<span class="org-comment-delimiter"># </span><span class=
"org-comment">Git Search</span>
<span class="org-builtin">alias</span> <span class=
"org-variable-name">ggFind</span>=<span class=
"org-string">'git log -g --pretty=format:%h -S'</span>
<span class="org-builtin">alias</span> <span class=
"org-variable-name">gFind</span>=<span class=
"org-string">'git log --pretty=format:%h -S'</span>
<span class="org-builtin">alias</span> <span class=
"org-variable-name">gGFing</span>=<span class=
"org-string">'git log --pretty=format:%h -G'</span>
<span class="org-builtin">alias</span> <span class=
"org-variable-name">gCFind</span>=<span class=
"org-string">'git log --grep="string in a commit message" --all --pretty=format:%h'</span>
</pre>
          </div>
        </div>

        <div id="outline-container-sec-12-10-1" class="outline-4">
          <h4 id="sec-12-10-1"><span class="section-number-4">12.10.1</span>
          Commit messages</h4>

          <div class="outline-text-4" id="text-12-10-1">
            <p>If you want to find all commits where <i>commit message</i>
            contains given word, use <code>--grep</code>.</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        git log --grep
</pre>
            </div>
          </div>
        </div>

        <div id="outline-container-sec-12-10-2" class="outline-4">
          <h4 id="sec-12-10-2"><span class="section-number-4">12.10.2</span>
          Commit contents (Diff)</h4>

          <div class="outline-text-4" id="text-12-10-2">
            <p>If you want to find all commits where a <b>string</b> was added
            or removed in the <i>file contents</i> (to be more exact: where its
            <b>number of occurrences changed</b>), i.e. search the <i>commit
            contents</i>, use <code>-S</code>.</p>

            <p>By default, <code>-S</code> accepts a string, but can be
            modified to accept a regexp with <code>--pickaxe-regex</code>.</p>

            <p><code>-G</code> looks for <b>differences</b> whose added or
            removed <b>line</b> matches the given <b>regexp</b>.</p>

            <p>I think you’d want this with <code>--all</code> as well (whether
            using <code>-S</code> or <code>-G</code>).</p>
          </div>
        </div>

        <div id="outline-container-sec-12-10-3" class="outline-4">
          <h4 id="sec-12-10-3"><span class="section-number-4">12.10.3</span>
          Code base</h4>

          <div class="outline-text-4" id="text-12-10-3">
            <p>The advantages of <code>git grep</code> are not only its
            <b>speed</b>, and the fact it only searches your project files
            (i.e. no files in <code>.git</code>), but also that is allows you
            to interface with your repository’s Git database; for example, for
            searching:</p>

            <ul class="org-ul">
              <li>for your regexp in some files from another branch,</li>

              <li>files registered in the index, rather than the working
              tree.</li>
            </ul>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">gr</span> = <span class=
"org-string">"grep --break --heading"</span>
</pre>
            </div>

            <p>XXX works only on files really in Git (bypassing ignored
            files)?</p>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-11" class="outline-3">
        <h3 id="sec-12-11"><span class="section-number-3">12.11</span>
        Tags</h3>

        <div class="outline-text-3" id="text-12-11">
          <p>List tags using (better) version sorting (if your
          <code>sort</code> supports it):</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">tags</span> = !git tag | sort -V
</pre>
          </div>

          <p>Show the last tag:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">lasttag</span> = describe --tags --abbrev=0
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-12" class="outline-3">
        <h3 id="sec-12-12"><span class="section-number-3">12.12</span> Merge
        aliases</h3>

        <div class="outline-text-3" id="text-12-12">
          <p>If you’re the Branch/Integration manager, you can use these
          aliases to merge stuff:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">ours</span> = <span class=
"org-string">"!f() { git co --ours $@ &amp;&amp; git add $@; }; f"</span>
        <span class="org-variable-name">theirs</span> = <span class=
"org-string">"!f() { git co --theirs $@ &amp;&amp; git add $@; }; f"</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-13" class="outline-3">
        <h3 id="sec-12-13"><span class="section-number-3">12.13</span>
        Cherrypick style recording</h3>

        <div class="outline-text-3" id="text-12-13">
          <p>Ask interactively which patch hunk to commit, and then do the
          commit:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">record</span> = !sh -c <span class=
"org-string">'(git add -p -- $@ &amp;&amp; git commit) || git reset'</span> --
</pre>
          </div>

          <p>It will not only do <code>git add -p</code> (with an optional file
          list), but it will also immediately do the <code>commit</code>. Upon
          abandonment of either the add or the commit it will
          <code>reset</code> the index.</p>
        </div>
      </div>

      <div id="outline-container-sec-12-14" class="outline-3">
        <h3 id="sec-12-14"><span class="section-number-3">12.14</span> Reset
        Commands</h3>

        <div class="outline-text-3" id="text-12-14">
          <p>Undo the last commit:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">undo</span> = reset --hard HEAD~1
</pre>
          </div>

          <p>Unstage changes from the index:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">unstage</span> = reset HEAD --
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-15" class="outline-3">
        <h3 id="sec-12-15"><span class="section-number-3">12.15</span> Stash
        operations</h3>

        <div class="outline-text-3" id="text-12-15">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">sl</span> = stash list
        <span class="org-variable-name">sa</span> = stash apply
        <span class="org-variable-name">ss</span> = stash save
</pre>
          </div>

          <p>XXX What about <code>git stash --include-untracked</code> and
          <code>git stash pop</code>?</p>
        </div>
      </div>

      <div id="outline-container-sec-12-16" class="outline-3">
        <h3 id="sec-12-16"><span class="section-number-3">12.16</span>
        Dangling</h3>

        <div class="outline-text-3" id="text-12-16">
          <ul class="org-ul">
            <li>Dangling blob = Change(s) that made it to the staging
            area/index but never got committed. One thing that is amazing with
            Git is that once it gets added to the staging area, you can always
            get it back because these blobs behave like commits!!</li>

            <li>Dangling commit = A commit that isn’t linked to any branch or
            tag either directly or by any of its ancestors. You can get these
            back too!</li>
          </ul>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">lost</span> = <span class=
"org-string">"!git fsck | awk '/dangling commit/ {print $3}' | git show --format='SHA1: %C(yellow)%h%Creset  %s' --stdin | awk '/SHA1/ {sub(\"SHA1: \", \"\"); print}'"</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-17" class="outline-3">
        <h3 id="sec-12-17"><span class="section-number-3">12.17</span> Save a
        repo as a tarball</h3>

        <div class="outline-text-3" id="text-12-17">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">export</span> = archive -o latest.tar.gz -9 --prefix=latest/
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-13" class="outline-2">
      <h2 id="sec-13"><span class="section-number-2">13</span> References</h2>

      <div class="outline-text-2" id="text-13">
        <ul class="org-ul">
          <li><a href="https://git.wiki.kernel.org/index.php/Aliases">Git SCM
          Wiki - Aliases</a></li>

          <li><a href="https://ochronus.com/git-tips-from-the-trenches/">Git
          tips from the trenches</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div id="postamble" class="status">
    <div id="footer">
      <div id="copyright">
        Copyright © Fabrice Niessen
      </div>
    </div>
  </div>
</body>
</html>
