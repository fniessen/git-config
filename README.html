<!-- <xml version="1.0" encoding="utf-8"> -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Cygwin (vers 1st September 2004), see www.w3.org" />

  <title>Git configuration file</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Org-mode" />
  <meta name="author" content="Fabrice Niessen" />
</head>

<body>
  <div id="content">
    <h1 class="title">Git configuration file</h1>

    <div id="table-of-contents">
      <h2>Table of Contents</h2>

      <div id="text-table-of-contents">
        <ul>
          <li><a href="#sec-1">1. Overview</a></li>

          <li>
            <a href="#sec-2">2. Tasks</a>

            <ul>
              <li><a href="#sec-2-1">2.1. <span class=
              "todo nilTODO">TODO</span> Outsource and include private entries
              in .gitconfig</a></li>
            </ul>
          </li>

          <li><a href="#sec-3">3. User</a></li>

          <li><a href="#sec-4">4. Core</a></li>

          <li><a href="#sec-5">5. Diff</a></li>

          <li><a href="#sec-6">6. Merge</a></li>

          <li><a href="#sec-7">7. Grep</a></li>

          <li><a href="#sec-8">8. Pull</a></li>

          <li><a href="#sec-9">9. Rebase</a></li>

          <li><a href="#sec-10">10. Push</a></li>

          <li><a href="#sec-11">11. Color</a></li>

          <li>
            <a href="#sec-12">12. Aliases</a>

            <ul>
              <li><a href="#sec-12-1">12.1. Abbreviations</a></li>

              <li>
                <a href="#sec-12-2">12.2. Getting a Git repository</a>

                <ul>
                  <li><a href="#sec-12-2-1">12.2.1. Initialize a
                  repository</a></li>

                  <li><a href="#sec-12-2-2">12.2.2. Clone an existing
                  repository</a></li>
                </ul>
              </li>

              <li><a href="#sec-12-3">12.3. Check the status of your
              files</a></li>

              <li><a href="#sec-12-4">12.4. Ignoring files</a></li>

              <li><a href="#sec-12-5">12.5. View your changes</a></li>

              <li><a href="#sec-12-6">12.6. Remove deleted files</a></li>

              <li><a href="#sec-12-7">12.7. View the commit history</a></li>

              <li>
                <a href="#sec-12-8">12.8. Undo things</a>

                <ul>
                  <li><a href="#sec-12-8-1">12.8.1. Change your last
                  commit</a></li>

                  <li><a href="#sec-12-8-2">12.8.2. Unstage a staged
                  file</a></li>

                  <li><a href="#sec-12-8-3">12.8.3. Unmodify a modified
                  file</a></li>

                  <li><a href="#sec-12-8-4">12.8.4. XXX</a></li>
                </ul>
              </li>

              <li>
                <a href="#sec-12-9">12.9. Work with remotes</a>

                <ul>
                  <li><a href="#sec-12-9-1">12.9.1. Pull</a></li>

                  <li><a href="#sec-12-9-2">12.9.2. Push</a></li>
                </ul>
              </li>

              <li><a href="#sec-12-10">12.10. Tag</a></li>

              <li><a href="#sec-12-11">12.11. Branch</a></li>

              <li><a href="#sec-12-12">12.12. Merge</a></li>

              <li><a href="#sec-12-13">12.13. Prepare a release</a></li>

              <li><a href="#sec-12-14">12.14. Cherrypick style
              recording</a></li>

              <li><a href="#sec-12-15">12.15. Stash</a></li>

              <li>
                <a href="#sec-12-16">12.16. Search</a>

                <ul>
                  <li><a href="#sec-12-16-1">12.16.1. Commit messages</a></li>

                  <li><a href="#sec-12-16-2">12.16.2. Commit contents
                  (Diff)</a></li>

                  <li><a href="#sec-12-16-3">12.16.3. Code base</a></li>
                </ul>
              </li>

              <li><a href="#sec-12-17">12.17. Dangling</a></li>

              <li><a href="#sec-12-18">12.18. Git and Subversion</a></li>
            </ul>
          </li>

          <li><a href="#sec-13">13. References</a></li>
        </ul>
      </div>
    </div>

    <div id="outline-container-sec-1" class="outline-2">
      <h2 id="sec-1"><span class="section-number-2">1</span> Overview</h2>

      <div class="outline-text-2" id="text-1">
        <p>The following configures interesting global settings for Git. These
        are stored in the <code>.gitconfig</code> file located in the user home
        directory.</p>

        <div class="warning">
          <p>Note that tangling this file will override whichever
          <code>~/.gitconfig</code> file you might have. So <b>be extremely
          careful</b>!</p>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-2" class="outline-2">
      <h2 id="sec-2"><span class="section-number-2">2</span> Tasks</h2>

      <div class="outline-text-2" id="text-2"></div>

      <div id="outline-container-sec-2-1" class="outline-3">
        <h3 id="sec-2-1"><span class="section-number-3">2.1</span> <span class=
        "todo TODO">TODO</span> Outsource and include private entries in
        .gitconfig</h3>
      </div>
    </div>

    <div id="outline-container-sec-3" class="outline-2">
      <h2 id="sec-3"><span class="section-number-2">3</span> User</h2>
    </div>

    <div id="outline-container-sec-4" class="outline-2">
      <h2 id="sec-4"><span class="section-number-2">4</span> Core</h2>
    </div>

    <div id="outline-container-sec-5" class="outline-2">
      <h2 id="sec-5"><span class="section-number-2">5</span> Diff</h2>
    </div>

    <div id="outline-container-sec-6" class="outline-2">
      <h2 id="sec-6"><span class="section-number-2">6</span> Merge</h2>
    </div>

    <div id="outline-container-sec-7" class="outline-2">
      <h2 id="sec-7"><span class="section-number-2">7</span> Grep</h2>
    </div>

    <div id="outline-container-sec-8" class="outline-2">
      <h2 id="sec-8"><span class="section-number-2">8</span> Pull</h2>
    </div>

    <div id="outline-container-sec-9" class="outline-2">
      <h2 id="sec-9"><span class="section-number-2">9</span> Rebase</h2>
    </div>

    <div id="outline-container-sec-10" class="outline-2">
      <h2 id="sec-10"><span class="section-number-2">10</span> Push</h2>
    </div>

    <div id="outline-container-sec-11" class="outline-2">
      <h2 id="sec-11"><span class="section-number-2">11</span> Color</h2>
    </div>

    <div id="outline-container-sec-12" class="outline-2">
      <h2 id="sec-12"><span class="section-number-2">12</span> Aliases</h2>

      <div class="outline-text-2" id="text-12">
        <p>If you forget your aliases and don’t want to open
        <code>.gitconfig</code> just to check, type <code>git alias</code>:</p>

        <div class="org-src-container">
          <pre class="src src-conf">
[<span class="org-type">alias</span>]
</pre>
        </div>

        <p>Print the current list of Git aliases:</p>

        <div class="org-src-container">
          <pre class="src src-conf">
        <span class="org-variable-name">alias</span> = <span class=
"org-string">"!git config -l | grep alias | cut -c 7- | sort"</span>
</pre>
        </div>
      </div>

      <div id="outline-container-sec-12-1" class="outline-3">
        <h3 id="sec-12-1"><span class="section-number-3">12.1</span>
        Abbreviations</h3>

        <div class="outline-text-3" id="text-12-1">
          <p>Basic shortcuts.</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">ci</span> = commit
</pre>
          </div>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">cp</span> = cherry-pick
        <span class="org-variable-name">ls</span> = ls-files
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-2" class="outline-3">
        <h3 id="sec-12-2"><span class="section-number-3">12.2</span> Getting a
        Git repository</h3>

        <div class="outline-text-3" id="text-12-2"></div>

        <div id="outline-container-sec-12-2-1" class="outline-4">
          <h4 id="sec-12-2-1"><span class="section-number-4">12.2.1</span>
          Initialize a repository</h4>

          <div class="outline-text-4" id="text-12-2-1">
            <div class="org-src-container">
              <pre class="src src-conf">
        <span class=
"org-variable-name">this</span> = !git init &amp;&amp; git add . &amp;&amp; git commit -m \"Initial commit\"
</pre>
            </div>
          </div>
        </div>

        <div id="outline-container-sec-12-2-2" class="outline-4">
          <h4 id="sec-12-2-2"><span class="section-number-4">12.2.2</span>
          Clone an existing repository</h4>

          <div class="outline-text-4" id="text-12-2-2">
            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">cl</span> = clone
</pre>
            </div>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-3" class="outline-3">
        <h3 id="sec-12-3"><span class="section-number-3">12.3</span> Check the
        status of your files</h3>

        <div class="outline-text-3" id="text-12-3">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">st</span> = status -s -b
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-4" class="outline-3">
        <h3 id="sec-12-4"><span class="section-number-3">12.4</span> Ignoring
        files</h3>

        <div class="outline-text-3" id="text-12-4">
          <p>XXX Quickly add a file or directory to
          <code>.gitignore</code>:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">ignore</span> = !([ ! -e .gitignore ] &amp;&amp; touch .gitignore) | echo $1 &gt;&gt; .gitignore
</pre>
          </div>

          <p>Ignore/unignore file without <code>.gitignore</code>:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">untrack</span> = update-index --assume-unchanged
</pre>
          </div>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">unignore</span> = update-index --no-assume-unchanged
</pre>
          </div>

          <p>Show files ignored by Git:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">ignored</span> = ls-files -o -i --exclude-standard
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-5" class="outline-3">
        <h3 id="sec-12-5"><span class="section-number-3">12.5</span> View your
        changes</h3>

        <div class="outline-text-3" id="text-12-5">
          <p>Differences since the <b>last commit</b> (<code>HEAD</code>):</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">df</span> = diff
</pre>
          </div>

          <p>Just before committing the staged changes, check what your commit
          changes (differences between the <b>staging area</b> and the <b>last
          commit</b>):</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">dc</span> = diff --cached
</pre>
          </div>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">y</span> = diff <span class=
"org-string">"@{yesterday}"</span>
</pre>
          </div>

          <p>Getting the diff of a branch since it forked from another branch,
          or since the last merge.</p>

          <p>To see the changes in a branch since it was forked from another
          branch, or since the last merge with the origin branch, you can add
          this alias:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">forkdiff</span> = !bash -c <span class=
"org-string">'git diff $(git merge-base "$1" "$2") "$2" "${@: 3}" '</span> -
</pre>
          </div>

          <p>It uses <code>git merge-base</code> to determine the fork-point
          (the commit that is common to both the branches) and does a <code>git
          diff</code> between that commit and the second branch.</p>

          <p>Usage</p>
          <pre class="example">
git forkdiff &lt;forked from branch&gt; &lt;forked branch&gt; [git-diff-options]
</pre>

          <p>Example</p>
          <pre class="example">
git forkdiff origin/master my_forked_branch --stat
</pre>
        </div>
      </div>

      <div id="outline-container-sec-12-6" class="outline-3">
        <h3 id="sec-12-6"><span class="section-number-3">12.6</span> Remove
        deleted files</h3>

        <div class="outline-text-3" id="text-12-6">
          <p>Removing multiple files from a Git repo that have already been
          deleted from disk:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">r</span> = !git ls-files --deleted -z | xargs -0 git rm
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-7" class="outline-3">
        <h3 id="sec-12-7"><span class="section-number-3">12.7</span> View the
        commit history</h3>

        <div class="outline-text-3" id="text-12-7">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">lg</span> = log --decorate --oneline --graph
        <span class=
"org-variable-name">lgr</span> = log --decorate --pretty=format:<span class=
"org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ad)%Creset'</span> --date=relative --graph
        <span class=
"org-variable-name">lga</span> = log --decorate --pretty=format:<span class=
"org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ad)%Creset'</span> --date=short --graph
</pre>
          </div>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">heads</span> = !<span class=
"org-string">"git log --format='%C(yellow)%h%Creset;%C(cyan)%H%Creset;%s %Cgreen&lt;%an&gt;%Creset' | git name-rev --stdin --always --name-only | column -t -s';'"</span>
</pre>
          </div>

          <div class="note">
            <p>The <code>git log</code> command shows, by default, the “author
            date” (not the “committer date”).</p>
          </div>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">last</span> = log -n 1
</pre>
          </div>

          <p>Prettier and concise <code>whatchanged</code>:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">what</span> = log --pretty=format:<span class=
"org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ad)%Creset'</span> --date=short --stat
</pre>
          </div>

          <p>Prettier <code>whatchanged</code> with full diffs based on text
          search:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">whatwhen</span> = log --pretty=format:<span class=
"org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ad)%Creset'</span> --date=iso -p -S
</pre>
          </div>

          <p>Show a “top contributors” list:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">who</span> = shortlog -n -s --
</pre>
          </div>

          <div class="note">
            <p>The <code>--</code> signals the end of options, that the rest of
            the parameters are limiters.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-8" class="outline-3">
        <h3 id="sec-12-8"><span class="section-number-3">12.8</span> Undo
        things</h3>

        <div class="outline-text-3" id="text-12-8"></div>

        <div id="outline-container-sec-12-8-1" class="outline-4">
          <h4 id="sec-12-8-1"><span class="section-number-4">12.8.1</span>
          Change your last commit</h4>

          <div class="outline-text-4" id="text-12-8-1">
            <p>Amend with the same message (without your editor prompting you
            for the message you’ve already entered).</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">amend</span> = <span class=
"org-string">"!git log -n 1 --pretty=tformat:%s%n%n%b | git commit -F - --amend"</span>
</pre>
            </div>

            <p>Modify the previous commit:</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">amend</span> = commit --amend --no-edit
        <span class="org-variable-name">amend</span> = commit -a --amend
</pre>
            </div>

            <p>The <code>-a</code> adds any modifications and deletions of
            existing files to the commit but ignores brand new files. The
            <code>--amend</code> launches your default commit editor and lets
            you change the commit message of the most recent commit.</p>
          </div>
        </div>

        <div id="outline-container-sec-12-8-2" class="outline-4">
          <h4 id="sec-12-8-2"><span class="section-number-4">12.8.2</span>
          Unstage a staged file</h4>

          <div class="outline-text-4" id="text-12-8-2">
            <p>Remove the specified files from the index (next commit):</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">unstage</span> = reset HEAD --
</pre>
            </div>
          </div>
        </div>

        <div id="outline-container-sec-12-8-3" class="outline-4">
          <h4 id="sec-12-8-3"><span class="section-number-4">12.8.3</span>
          Unmodify a modified file</h4>

          <div class="outline-text-4" id="text-12-8-3">
            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">undo</span> = checkout --
</pre>
            </div>
          </div>
        </div>

        <div id="outline-container-sec-12-8-4" class="outline-4">
          <h4 id="sec-12-8-4"><span class="section-number-4">12.8.4</span>
          XXX</h4>

          <div class="outline-text-4" id="text-12-8-4">
            <p>Go back before last commit, with files in uncommitted state:</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">uncommit</span> = reset --soft HEAD~1
</pre>
            </div>

            <p>Reset the previous commit, but keeps all the changes from that
            commit in the working directory:</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">undo</span> = reset --mixed HEAD~1
</pre>
            </div>

            <p>Undo the last commit:</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">wipe</span> = reset --hard HEAD~1
</pre>
            </div>

            <p>If you reset work that you <i>never committed</i>, it is gone
            for good. Too bad!</p>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-9" class="outline-3">
        <h3 id="sec-12-9"><span class="section-number-3">12.9</span> Work with
        remotes</h3>

        <div class="outline-text-3" id="text-12-9"></div>

        <div id="outline-container-sec-12-9-1" class="outline-4">
          <h4 id="sec-12-9-1"><span class="section-number-4">12.9.1</span>
          Pull</h4>

          <div class="outline-text-4" id="text-12-9-1">
            <p>Unpulled:</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">in</span> = pull --dry-run
</pre>
            </div>

            <p>Before doing work (in a new branch), ensure that the working
            directory is up-to-date with the <code>origin</code>:</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class=
"org-variable-name">up</span> = !git pull --rebase --prune $@ &amp;&amp; git submodule update --init --recursive
</pre>
            </div>

            <p>Pull all:</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">pull-all</span> = !<span class=
"org-string">"old=$(git rev-parse --abbrev-ref HEAD) ; for b in $(git for-each-ref refs/heads --format='%(refname)') ; do git checkout ${b#refs/heads/} ; git pull --ff-only ; done; git checkout ${old}"</span>
</pre>
            </div>
          </div>
        </div>

        <div id="outline-container-sec-12-9-2" class="outline-4">
          <h4 id="sec-12-9-2"><span class="section-number-4">12.9.2</span>
          Push</h4>

          <div class="outline-text-4" id="text-12-9-2">
            <p>Unpushed:</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class=
"org-variable-name">out</span> = log --branches --not --remotes --color --graph --pretty=format:<span class="org-string">'%C(yellow)%h%C(auto)%d%Creset %s %Cgreen&lt;%an&gt;%Creset %C(bold blue)(%ar)%Creset'</span> --abbrev-commit
</pre>
            </div>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-10" class="outline-3">
        <h3 id="sec-12-10"><span class="section-number-3">12.10</span> Tag</h3>

        <div class="outline-text-3" id="text-12-10">
          <p>List tags using (better) version sorting (if your
          <code>sort</code> supports it):</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">tags</span> = !git tag | sort -V
</pre>
          </div>

          <p>Show the last tag:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">lasttag</span> = describe --tags --abbrev=0
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-11" class="outline-3">
        <h3 id="sec-12-11"><span class="section-number-3">12.11</span>
        Branch</h3>

        <div class="outline-text-3" id="text-12-11">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">co</span> = checkout
        <span class="org-variable-name">cob</span> = checkout -b
</pre>
          </div>

          <p>Checkout common branches (useful if you have feature
          branches):</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">master</span> = checkout master
        <span class="org-variable-name">develop</span> = checkout develop
</pre>
          </div>

          <p>List all branches (both remote-tracking and local), showing sha1
          and commit subject line for each head, along with the name of the
          upstream branch (if any).</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">br</span> = branch -a -vv
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-12" class="outline-3">
        <h3 id="sec-12-12"><span class="section-number-3">12.12</span>
        Merge</h3>

        <div class="outline-text-3" id="text-12-12">
          <p>If you’re the Branch/Integration manager, you can use these
          aliases to <b>merge</b> stuff (to select the entirety of either our
          or their file in a 3 way merge).</p>

          <p>Often, during a merge, you know you want to take a file from one
          side wholesale. The following aliases expose the ours and theirs
          commands which will let you pick a file(s) from the current branch or
          the merged branch respectively:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">ours</span>   = <span class=
"org-string">"!f() { git checkout --ours $@ &amp;&amp; git add $@; }; f"</span>
        <span class="org-variable-name">theirs</span> = <span class=
"org-string">"!f() { git checkout --theirs $@ &amp;&amp; git add $@; }; f"</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-13" class="outline-3">
        <h3 id="sec-12-13"><span class="section-number-3">12.13</span> Prepare
        a release</h3>

        <div class="outline-text-3" id="text-12-13">
          <p>Save a repo as a tarball:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class=
"org-variable-name">export</span> = archive -o latest.tar.gz -9 --prefix=latest/
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-14" class="outline-3">
        <h3 id="sec-12-14"><span class="section-number-3">12.14</span>
        Cherrypick style recording</h3>

        <div class="outline-text-3" id="text-12-14">
          <p>Ask interactively which patch hunk to commit, and then do the
          commit:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">record</span> = !sh -c <span class=
"org-string">'(git add -p -- $@ &amp;&amp; git commit) || git reset'</span> --
</pre>
          </div>

          <p>It will not only do <code>git add -p</code> (with an optional file
          list), but it will also immediately do the <code>commit</code>. Upon
          abandonment of either the add or the commit it will
          <code>reset</code> the index.</p>
        </div>
      </div>

      <div id="outline-container-sec-12-15" class="outline-3">
        <h3 id="sec-12-15"><span class="section-number-3">12.15</span>
        Stash</h3>

        <div class="outline-text-3" id="text-12-15">
          <p>A <b>stash</b> is nothing but a <b>(temporary) branch</b>.</p>

          <p><code>git stash</code> makes a temporary copy of the <b>index</b>
          and the <b>working tree</b>, and clears the decks so you can easily
          work on something else: it resets the branch you were on so those
          contents are no longer there.</p>

          <p>When you’re done, with <code>git stash apply</code>, you’re back
          where you were. It applies the top stash by default. But if that
          doesn’t work, for whatever reason, you can use any of Git’s other
          branch merging tools to put things back they way you want them.</p>

          <p>Get rid of some incomplete changes:</p>

          <div class="org-src-container">
            <pre class="src src-conf">
git stash save --keep-index
</pre>
          </div>

          <p>Be aware that, unlike <code>git stash apply</code> (though it has
          its use), <code>git stash pop</code> <b>deletes the applied stash</b>
          – <i>only</i> if the stash is cleanly applied. If there are
          conflicts, Git will not remove it (but it will still apply it)!</p>

          <div class="org-src-container">
            <pre class="src src-conf">
git stash clear
</pre>
          </div>

          <p>You can operate on the ‘stash’ ref as if it were any other
          ref.</p>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">sl</span> = stash list
        <span class="org-variable-name">sa</span> = stash apply
        <span class="org-variable-name">ss</span> = stash save <span class=
"org-string">"name_stash"</span>
</pre>
          </div>

          <p>XXX What about <code>git stash --include-untracked</code> and
          <code>git stash pop</code>?</p>

          <p>Alternative: do a regular <code>commit</code> and a <code>reset
          --soft</code> instead.</p>
        </div>
      </div>

      <div id="outline-container-sec-12-16" class="outline-3">
        <h3 id="sec-12-16"><span class="section-number-3">12.16</span>
        Search</h3>

        <div class="outline-text-3" id="text-12-16">
          <div class="org-src-container">
            <pre class="src src-shell">
<span class="org-comment-delimiter"># </span><span class=
"org-comment">Git Search</span>
<span class="org-builtin">alias</span> <span class=
"org-variable-name">ggFind</span>=<span class=
"org-string">'git log -g --pretty=format:%h -S'</span>
<span class="org-builtin">alias</span> <span class=
"org-variable-name">gFind</span>=<span class=
"org-string">'git log --pretty=format:%h -S'</span>
<span class="org-builtin">alias</span> <span class=
"org-variable-name">gGFing</span>=<span class=
"org-string">'git log --pretty=format:%h -G'</span>
<span class="org-builtin">alias</span> <span class=
"org-variable-name">gCFind</span>=<span class=
"org-string">'git log --grep="string in a commit message" --all --pretty=format:%h'</span>
</pre>
          </div>
        </div>

        <div id="outline-container-sec-12-16-1" class="outline-4">
          <h4 id="sec-12-16-1"><span class="section-number-4">12.16.1</span>
          Commit messages</h4>

          <div class="outline-text-4" id="text-12-16-1">
            <p>If you want to find all commits where <i>commit message</i>
            contains given word, use <code>--grep</code>.</p>

            <div class="org-src-container">
              <pre class="src src-conf">
        git log --grep
</pre>
            </div>
          </div>
        </div>

        <div id="outline-container-sec-12-16-2" class="outline-4">
          <h4 id="sec-12-16-2"><span class="section-number-4">12.16.2</span>
          Commit contents (Diff)</h4>

          <div class="outline-text-4" id="text-12-16-2">
            <p>If you want to find all commits where a <b>string</b> was added
            or removed in the <i>file contents</i> (to be more exact: where its
            <b>number of occurrences changed</b>), i.e. search the <i>commit
            contents</i>, use <code>-S</code>.</p>

            <p>By default, <code>-S</code> accepts a string, but can be
            modified to accept a regexp with <code>--pickaxe-regex</code>.</p>

            <p><code>-G</code> looks for <b>differences</b> whose added or
            removed <b>line</b> matches the given <b>regexp</b>.</p>

            <p>I think you’d want this with <code>--all</code> as well (whether
            using <code>-S</code> or <code>-G</code>).</p>
          </div>
        </div>

        <div id="outline-container-sec-12-16-3" class="outline-4">
          <h4 id="sec-12-16-3"><span class="section-number-4">12.16.3</span>
          Code base</h4>

          <div class="outline-text-4" id="text-12-16-3">
            <p>The advantages of <code>git grep</code> are not only its
            <b>speed</b>, and the fact it only searches your project files
            (i.e. no files in <code>.git</code>), but also that is allows you
            to interface with your repository’s Git database; for example, for
            searching:</p>

            <ul class="org-ul">
              <li>for your regexp in some files from another branch,</li>

              <li>files registered in the index, rather than the working
              tree.</li>
            </ul>

            <div class="org-src-container">
              <pre class="src src-conf">
        <span class="org-variable-name">gr</span> = <span class=
"org-string">"grep --break --heading"</span>
</pre>
            </div>

            <p>XXX works only on files really in Git (bypassing ignored
            files)?</p>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-17" class="outline-3">
        <h3 id="sec-12-17"><span class="section-number-3">12.17</span>
        Dangling</h3>

        <div class="outline-text-3" id="text-12-17">
          <ul class="org-ul">
            <li>Dangling blob = Change(s) that made it to the staging
            area/index but never got committed. One thing that is amazing with
            Git is that once it gets added to the staging area, you can always
            get it back because these blobs behave like commits!!</li>

            <li>Dangling commit = A commit that isn’t linked to any branch or
            tag either directly or by any of its ancestors. You can get these
            back too!</li>
          </ul>

          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">lost</span> = <span class=
"org-string">"!git fsck | awk '/dangling commit/ {print $3}' | git show --format='SHA1: %C(yellow)%h%Creset  %s' --stdin | awk '/SHA1/ {sub(\"SHA1: \", \"\"); print}'"</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-12-18" class="outline-3">
        <h3 id="sec-12-18"><span class="section-number-3">12.18</span> Git and
        Subversion</h3>

        <div class="outline-text-3" id="text-12-18">
          <div class="org-src-container">
            <pre class="src src-conf">
        <span class="org-variable-name">spull</span> = <span class=
"org-string">"svn rebase"</span>
        <span class="org-variable-name">spush</span> = <span class=
"org-string">"svn dcommit"</span>
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-13" class="outline-2">
      <h2 id="sec-13"><span class="section-number-2">13</span> References</h2>

      <div class="outline-text-2" id="text-13">
        <ul class="org-ul">
          <li><a href="https://git.wiki.kernel.org/index.php/Aliases">Git SCM
          Wiki - Aliases</a></li>

          <li><a href="https://ochronus.com/git-tips-from-the-trenches/">Git
          tips from the trenches</a></li>

          <li><a href=
          "file:~/Public/Repositories/emacs/admin/notes/git-workflow">Emacs Git
          workflow</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div id="postamble" class="status">
    <div id="footer">
      <div id="copyright">
        Copyright © Fabrice Niessen
      </div>
    </div>
  </div>
</body>
</html>
